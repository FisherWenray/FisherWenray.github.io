# 🎯 文章发布系统 - 架构图

## 1️⃣ 系统架构流程

```
┌─────────────────────────────────────────────────────────────┐
│                    个人网站首页 (index.html)               │
│                                                               │
│  我的文章  → 链接到 articles.html                          │
└────────────────────┬────────────────────────────────────────┘
                     │
                     ↓
┌─────────────────────────────────────────────────────────────┐
│              文章列表页面 (articles.html)                   │
│                                                               │
│  ┌──────────────────────────────────────────────────────┐   │
│  │ 全部 | 软件出海 | 投资悟道 | 自我成长            │   │
│  └──────────────────────────────────────────────────────┘   │
│                                                               │
│  ┌──────────────┬──────────────┬──────────────┐             │
│  │ 文章卡片 1  │ 文章卡片 2  │ 文章卡片 3  │             │
│  │             │             │             │             │
│  │ 标题、分类  │ 标题、分类  │ 标题、分类  │             │
│  │ 描述、日期  │ 描述、日期  │ 描述、日期  │             │
│  │ 阅读时间    │ 阅读时间    │ 阅读时间    │             │
│  └──────────────┴──────────────┴──────────────┘             │
│                                                               │
│         ↓ 点击任意卡片                                       │
└──────────┬──────────────────────────────────────────────────┘
           │
           ↓
┌─────────────────────────────────────────────────────────────┐
│              文章详情页面 (article.html)                    │
│                                                               │
│  ↑ 返回列表                                                 │
│                                                               │
│  ┌──────────────────────────────────────────────────────┐   │
│  │ [分类] 文章标题                                     │   │
│  │ 作者 | 发布日期 | 阅读时间                        │   │
│  └──────────────────────────────────────────────────────┘   │
│                                                               │
│  ┌──────────────────────────────────────────────────────┐   │
│  │                                                        │   │
│  │  Markdown 内容（自动渲染）                         │   │
│  │  - 标题、段落、列表                                 │   │
│  │  - 代码块（语法高亮）                               │   │
│  │  - 链接、图片、引用块                               │   │
│  │                                                        │   │
│  └──────────────────────────────────────────────────────┘   │
│                                                               │
│  ┌──────────────────────────────────────────────────────┐   │
│  │ 标签: [标签1] [标签2] [标签3]                      │   │
│  │                                                        │   │
│  │ [返回列表] [首页]    [分享微博] [复制链接]        │   │
│  └──────────────────────────────────────────────────────┘   │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

## 2️⃣ 数据流向

```
┌──────────────────────────────────────────────────────────────────┐
│                      浏览器访问                                  │
└─────────────────────────┬──────────────────────────────────────┘
                          │
                          ↓
            ┌─────────────────────────────┐
            │   加载 articles.html        │
            │     或 article.html?id=001  │
            └──────────────┬──────────────┘
                          │
                          ↓
         ┌────────────────────────────────────┐
         │  执行 article-loader.js 脚本     │
         └──────────────┬─────────────────────┘
                        │
         ┌──────────────┴──────────────┐
         │                            │
         ↓                            ↓
    ┌─────────────┐           ┌──────────────┐
    │ 加载        │           │ 从 JSON      │
    │articles.json│           │ 获取文章ID   │
    └─────┬───────┘           └──────┬───────┘
          │                          │
          ↓                          ↓
    ┌──────────────────────────────────────┐
    │   查找 articles.json 中的文章        │
    │   获取 markdown 文件路径              │
    └──────────────┬───────────────────────┘
                  │
                  ↓
    ┌──────────────────────────────────────┐
    │   加载 .md 文件（Markdown）          │
    │   如：articles/001-xxx.md            │
    └──────────────┬───────────────────────┘
                  │
                  ↓
    ┌──────────────────────────────────────┐
    │   MarkdownParser 解析                │
    │   Markdown → HTML                    │
    └──────────────┬───────────────────────┘
                  │
                  ↓
    ┌──────────────────────────────────────┐
    │   Highlight.js 代码高亮              │
    └──────────────┬───────────────────────┘
                  │
                  ↓
    ┌──────────────────────────────────────┐
    │   页面渲染完成                       │
    │   用户可读取内容                     │
    └──────────────────────────────────────┘
```

## 3️⃣ 文件组织结构

```
📁 FisherWenray.github.io
│
├── 📄 index.html                 ← 主页（已链接到文章）
│
├── 📄 articles.html              ← 文章列表展示
│   └─ 从 articles.json 读取数据
│   └─ 展示卡片列表
│   └─ 支持分类过滤
│
├── 📄 article.html               ← 文章详情页
│   └─ 根据 URL 参数加载文章
│   └─ 动态渲染 Markdown 内容
│
├── 📄 articles.json              ← 文章元数据配置
│   ├─ id: "001"
│   ├─ title: "文章标题"
│   ├─ category: "分类"
│   ├─ markdown: "articles/001-xxx.md"
│   └─ ... 其他字段
│
├── 📁 js
│   └── article-loader.js         ← Markdown 解析脚本
│       ├─ MarkdownParser 类
│       ├─ loadArticle() 函数
│       └─ getUrlParam() 函数
│
├── 📁 articles                   ← 文章存储
│   ├── 001-software-overseas.md  ← 示例文章1
│   ├── 002-investment-logic.md   ← 示例文章2
│   └── 003-personal-growth.md    ← 示例文章3
│
├── 📄 ARTICLES_README.md         ← 详细文档
├── 📄 QUICK_START.md             ← 快速指南
└── 📄 COMPLETION_SUMMARY.md      ← 完成总结
```

## 4️⃣ 发布工作流

```
开始 → 1️⃣ 创建文章 → 2️⃣ 配置元数据 → 3️⃣ 测试 → 4️⃣ 发布
      ↓           ↓              ↓      ↓      ↓
     撰写         编辑           本地   Git   GitHub
     Markdown    articles.json   预览   提交   Pages
     文件        添加            生效   推送   上线
     
     articles/           articles.json
     004-title.md        {
                           "id": "004",
     ↑ 新建文件           "title": "...",
                           "markdown": "articles/004..."
                         }
```

## 5️⃣ Markdown 解析流程

```
原始 Markdown 文本
        │
        ↓
┌──────────────────────────────────┐
│  标题处理                        │
│  # 标题 → <h1>标题</h1>         │
└──────────────┬───────────────────┘
               │
               ↓
┌──────────────────────────────────┐
│  样式处理                        │
│  **粗体** → <strong>粗体</strong>│
└──────────────┬───────────────────┘
               │
               ↓
┌──────────────────────────────────┐
│  代码块处理                      │
│  ```code``` → <pre><code>...</pre>│
└──────────────┬───────────────────┘
               │
               ↓
┌──────────────────────────────────┐
│  列表处理                        │
│  - 项目 → <ul><li>...</li></ul>  │
└──────────────┬───────────────────┘
               │
               ↓
┌──────────────────────────────────┐
│  链接和图片处理                  │
│  [text](url) → <a href="url">    │
└──────────────┬───────────────────┘
               │
               ↓
┌──────────────────────────────────┐
│  段落处理                        │
│  文本 → <p>文本</p>             │
└──────────────┬───────────────────┘
               │
               ↓
最终 HTML 内容
        │
        ↓
浏览器渲染
```

## 6️⃣ 分类管理系统

```
articles.json
│
├─ 文章1: category = "软件出海"
├─ 文章2: category = "投资悟道"
├─ 文章3: category = "自我成长"
├─ 文章4: category = "软件出海"
└─ ...
    │
    ↓ articles.html 读取并处理
    │
    ┌─────────────────────────────────┐
    │ 自动生成分类过滤按钮             │
    │ [全部] [软件出海] [投资悟道] ... │
    └─────────────────────────────────┘
    │
    ↓ 用户点击分类
    │
    ┌─────────────────────────────────┐
    │ 过滤显示相关文章                 │
    │ 只显示该分类的文章卡片           │
    └─────────────────────────────────┘
```

## 7️⃣ 响应式设计断点

```
┌─────────────────────────────────────────────────┐
│ 桌面端 (> 1024px)                              │
│                                                  │
│ ┌──────┬──────┬──────┐  ← 3 列网格             │
│ │ 卡片 │ 卡片 │ 卡片 │                        │
│ └──────┴──────┴──────┘                        │
└─────────────────────────────────────────────────┘
                ↓
┌─────────────────────────────────────────────────┐
│ 平板端 (768px - 1024px)                        │
│                                                  │
│ ┌──────┬──────┐  ← 2 列网格                   │
│ │ 卡片 │ 卡片 │                              │
│ └──────┴──────┘                              │
│ ┌──────┐                                      │
│ │ 卡片 │                                      │
│ └──────┘                                      │
└─────────────────────────────────────────────────┘
                ↓
┌─────────────────────────────────────────────────┐
│ 手机端 (< 768px)                               │
│                                                  │
│ ┌──────┐  ← 1 列                             │
│ │ 卡片 │                                      │
│ ├──────┤                                      │
│ │ 卡片 │                                      │
│ ├──────┤                                      │
│ │ 卡片 │                                      │
│ └──────┘                                      │
└─────────────────────────────────────────────────┘
```

## 8️⃣ URL 路由结构

```
https://yourdomain.com/

├── index.html              ← 主页
│
├── articles.html           ← 文章列表
│
├── article.html?id=001     ← 文章详情（示例：001号文章）
├── article.html?id=002     ← 文章详情（示例：002号文章）
└── article.html?id=003     ← 文章详情（示例：003号文章）

数据流：
  article.html?id=001
        │
        ↓ 获取 id 参数
        │
        ↓ 从 articles.json 查找
        │
        ↓ 加载对应的 Markdown 文件
        │
        ↓ 渲染页面
```

## 9️⃣ CSS 主题颜色系统

```
┌─────────────────────────────────────────┐
│         颜色系统                        │
├─────────────────────────────────────────┤
│ 主色：#5D7B93        ████████        │
│ 蓝灰色，用于标题、按钮、链接           │
│                                         │
│ 辅助色：#c5b358      ████████        │
│ 金色，用于强调、分隔线                 │
│                                         │
│ 深色：#2A3645        ████████        │
│ 深蓝灰，用于背景渐变                   │
│                                         │
│ 浅色：#f0f2f7        ████████        │
│ 浅灰蓝，用于卡片、按钮背景             │
│                                         │
│ 文字：#333, #555, #666                │
│ 不同层级的文字色                       │
└─────────────────────────────────────────┘

在 HTML 中应用：
  背景：linear-gradient(135deg, #5D7B93 80%, #2A3645 100%)
  按钮：background: #5D7B93; color: white;
  卡片：background: white; border-radius: 16px;
  强调：border-left: 4px solid #c5b358;
```

## 🔟 部署流程

```
┌─────────────────────────────────┐
│ 1. 本地编辑                     │
│ 创建/修改文件                   │
└──────────────┬──────────────────┘
               │
┌──────────────▼──────────────────┐
│ 2. 本地测试                     │
│ 用浏览器打开预览                 │
└──────────────┬──────────────────┘
               │
┌──────────────▼──────────────────┐
│ 3. Git 提交                     │
│ git add .                       │
│ git commit -m "message"         │
└──────────────┬──────────────────┘
               │
┌──────────────▼──────────────────┐
│ 4. 推送到 GitHub                │
│ git push origin main            │
└──────────────┬──────────────────┘
               │
┌──────────────▼──────────────────┐
│ 5. GitHub Pages 自动部署        │
│ （1-2 分钟）                    │
└──────────────┬──────────────────┘
               │
┌──────────────▼──────────────────┐
│ 6. 在线生效                     │
│ 访问网站即可看到更新             │
└─────────────────────────────────┘
```

---

## 🎯 快速参考

### 关键文件速查

| 文件 | 用途 | 修改频率 |
|------|------|---------|
| `articles.json` | 文章配置 | 每次发布 |
| `articles/*.md` | 文章内容 | 常定 |
| `articles.html` | 列表页 | 极少 |
| `article.html` | 详情页 | 极少 |
| `article-loader.js` | 解析脚本 | 几乎不改 |

### 常用命令

```bash
# 查看项目状态
git status

# 添加所有变更
git add .

# 提交变更
git commit -m "Add new article"

# 推送到 GitHub
git push origin main

# 查看日志
git log --oneline -5
```

### 常见问题快速查答

- **如何新建文章？** → 创建 .md 文件，更新 articles.json
- **如何修改样式？** → 编辑 article.html 中的 CSS
- **如何添加分类？** → 在 articles.json 中设置新的 category 值
- **多久更新一次？** → 无需手动，推送后 GitHub 自动部署

---

这就是整个系统的完整架构！祝你的写作之旅顺利！🚀
